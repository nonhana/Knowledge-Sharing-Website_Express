"use strict";(self["webpackChunkxueyigou"]=self["webpackChunkxueyigou"]||[]).push([[653],{81653:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index"},[e("el-row",{attrs:{type:"flex",justify:"center"}},[e("loginWindowVue")],1)],1)},o=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"loginWindow-wrap",attrs:{name:"loginWindow"}},[t.status?e("div",[e("div",{staticClass:"title"},[e("font",[t._v("登录")])],1),e("div",{staticClass:"form"},[e("div",{staticStyle:{margin:"40px 0 0 0"}},[e("div",[e("font",[t._v("账号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.account,expression:"loginForm.account"}],attrs:{type:"text",placeholder:"请输入您的账号"},domProps:{value:t.loginForm.account},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"account",e.target.value)}}})],1),e("div",{staticStyle:{margin:"20px 0 0 0"}},[e("font",[t._v("密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],attrs:{type:"password",placeholder:"请输入您的密码"},domProps:{value:t.loginForm.password},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"password",e.target.value)}}})],1)])]),e("div",{staticClass:"register",on:{click:function(e){t.status=!t.status}}},[e("font",[t._v("还未注册？点击此处注册！")])],1),e("div",{staticClass:"submit",on:{click:function(e){return t.login()}}},[e("div",[e("font",[t._v("登录")])],1)])]):t._e(),t.status?t._e():e("div",[e("div",{staticClass:"title"},[e("font",[t._v("注册")])],1),e("div",{staticClass:"form"},[e("div",{staticStyle:{margin:"40px 0 0 0"}},[e("div",[e("font",[t._v("用户名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.name,expression:"registerForm.name"}],attrs:{type:"text",placeholder:"请填写您的用户名"},domProps:{value:t.registerForm.name},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"name",e.target.value)}}})],1),e("div",{staticStyle:{margin:"20px 0 0 0"}},[e("font",[t._v("账号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.account,expression:"registerForm.account"}],attrs:{type:"text",placeholder:"请填写您的账号"},domProps:{value:t.registerForm.account},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"account",e.target.value)}}})],1),e("div",{staticStyle:{margin:"20px 0 0 0"}},[e("font",[t._v("密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.password,expression:"registerForm.password"}],attrs:{type:"password",placeholder:"请输入您的密码"},domProps:{value:t.registerForm.password},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"password",e.target.value)}}})],1)])]),e("div",{staticClass:"register",on:{click:function(e){t.status=!t.status}}},[e("font",[t._v("返回")])],1),e("div",{staticClass:"submit",on:{click:function(e){return t.register()}}},[e("div",[e("font",[t._v("注册")])],1)])])])},a=[],n=(s(57658),s(32900)),l={name:"loginWindow",data(){return{loginForm:{account:"",password:""},registerForm:{name:"",account:"",password:""},user_list:[],status:!0}},methods:{login(){this.loginForm.account&&this.loginForm.password?(0,n.WW)({...this.loginForm}).then((t=>{1===t.data.result_code?0===t.data.result_length?this.$notify({title:"登录失败！",message:"该账号还没有注册哦，请先注册！",type:"error"}):this.$notify({title:"登录失败！",message:t.data.result_msg,type:"error"}):(localStorage.setItem("token",t.data.token),t.data.user_info.major=t.data.user_info.major.split(","),localStorage.setItem("user_info",JSON.stringify(t.data.user_info)),localStorage.setItem("keywords_list",JSON.stringify(t.data.keywords_list)),localStorage.setItem("article_labels",JSON.stringify(t.data.article_labels)),this.$notify({title:"登录成功！",message:`${t.data.user_info.name}，欢迎回来！`,type:"success"}),this.$router.push({name:"home"}))})):this.$notify({title:"账号/密码未填好！",type:"error"})},register(){this.registerForm.name&&this.registerForm.account&&this.registerForm.password?(0,n.MO)(this.registerForm).then((t=>{1===t.data.result_code?this.$notify({title:"注册失败！",message:t.data.result_msg,type:"error"}):(this.status=!this.status,this.$notify({title:"注册成功！",message:"快快去登录吧~",type:"success"}))})):this.$notify({title:"注册必填项未填好！",type:"error"})}}},u=l,c=s(1001),m=(0,c.Z)(u,i,a,!1,null,"5447a902",null),d=m.exports,g={name:"index-post",components:{loginWindowVue:d}},p=g,v=(0,c.Z)(p,r,o,!1,null,"61b256c6",null),f=v.exports},32900:function(t,e,s){s.d(e,{E2:function(){return a},MO:function(){return i},Po:function(){return n},WW:function(){return o}});var r=s(90023);function o(t){return(0,r.Z)({url:"/user/login",method:"get",params:t})}function i(t){return(0,r.Z)({url:"/user/register",method:"post",data:t})}function a(t){return(0,r.Z)({url:"/user/userinfo",method:"get",params:t})}function n(t){return(0,r.Z)({url:"/user/edituserinfo",method:"post",data:t})}}}]);
//# sourceMappingURL=653.37b48be4.js.map